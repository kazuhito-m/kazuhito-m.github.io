---
published: true
layout: post
title: Debianでsudo仕込むセオリーぽいもの
category: tech
tags: [linux,debian,sudo]
---

たまには「Tipsだけの単項目」で記事を書いても良いじゃないですか！

(もともと、こういう「カジュアルな単項目アウトプット」するためにブログを立てたのです)

# 昨今のsudo事情

昨今のLinuxディストリビューションにおける「suやsudoなど特権の考え方」的には…

1. インストールしたら一般ユーザに全部sudoが備わってる
0. sudoは入っているけど特定ユーザだけ(唯一の一般ユーザには備わってるけど新たに作るとついてないとか)
0. sudoは入っているけど誰にも装備していない
0. sudoが入ってない(古き良きrootユーザで管理はやりなさい)

なものがある上、上記の2,3とかでも

- visudoで直接ユーザ名仕込みなさい
- 特定グループ(wheelとか)を有効にした上でユーザにグループ追加しなさい

とか、俺は「どれが正しいのかよくわからない」という感じがしています。

※なんとなくのディストリ分類は

+ 1. Ubuntu系
+ 2. AMI系
+ 3. CentOS/RH系
+ 4. Debian

かなぁ？という感覚はありましたが…(この認識もおそらく間違ってるだろけど

# Debianのsudo仕込み

で、本題のDebianなのですが、上で書いた通り「rootユーザを残しとくから、管理は一般ユーザがsu昇格してやりな」という雰囲気です。

ただ、俺には「fabricなどUbuntu用に仕込んだ資産(sudo前提のものが多い)」ので、「Debianには後からsudo仕込む」ということになります。

その仕込みなのですが、設定ファイル `/etc/sudoers` のデフォルト見て「昨今の仕込みはこうなのかな？」という「俺が俺の中で決めた備忘録」を記しときたいと思います。

Debian8(jessie)のaptでsudo入れたときの sodoers 設定には

___「sudoグループのユーザはパスワード付きでsudo許すよ！」___

という設定があるため…

(以下はrootで作業)

```bash 
apt-get install sudo
usermod -G sudo "許可したいユーザ" 
```

とやるのが最短かつ一般的かな、と。


---

「設定の定番」というトレンドも、時期とディストリによってご作法が違うため、割と迷うことが多いですが「提供する側が推奨している」ものは、掴んでおきたいなと常々思ってます…が追いつきません。

